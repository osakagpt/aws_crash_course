# 今回のゴール
すべての権限を付与されたルートユーザーでEC2インスタンスを起動してローカルからSSH接続できるようになる

# VPC
- [ドキュメント](https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/what-is-amazon-vpc.html)
- [コンソール](https://us-east-1.console.aws.amazon.com/vpcconsole/home?region=us-east-1#Home:)

![](images/how-it-works.png)

## キーワード
- リージョン
    - 東京とかテキサスとか
- アベイラビリティゾーン(AZ)
    - データセンターみたいな意味。たとえば東京リージョンは複数のデータセンターを管轄している。

- VPC
    - LANみたいなイメージ
    - ひとつのリージョンの中につくるが、複数のAZをまたぐことができる
- サブネット
    - 複数のAZをまたぐことはできない
    - パブリックサブネットとプライベートサブネットに分類できる
    - パブリックとプライベートの違いはインターネットウェイがルートテーブルにあるかどうか
    - EC2などのコンピューティングリソースはこのサブネット上に配置する
    
- [ルートテーブル](https://us-east-1.console.aws.amazon.com/vpcconsole/home?region=us-east-1#RouteTables:)
    - サブネットからの外に出る通信をどこに向けて発信するかを定めるルールの集合
    - ひとつのサブネットには必ずひとつのルートテーブルが紐づけられる
        - EC2などのホストごとにルートテーブルがあるわけではないことに注意
    

- インターネットゲートウェイ
    - 作成するリソースのひとつ
    - インターネットとVPC内のリソースをつなぐインターフェイス。デフォルトゲートウェイみたいなイメージ。

- [ENI:Elastic Network Interface](https://docs.aws.amazon.com/ja_jp/AWSEC2/latest/WindowsGuide/using-eni.html)
    - リソースのひとつでネットワークカードを抽象化したもの
    - プライベートIPとパブリックIPを同時に持つことができる
    - プライベートIPは複数持つこともできる(ひとつのEC2ホストで2つのサービスをデプロイしたいときなど)

- Elastic IP
    - EC2などのリソースは起動時にENIがアタッチされパブリックIPが割り当てられるがインスタンスが停止するとIP自体も解放されてしまう
    - 常に同じIPアドレスをもっておきたいときにEIPは有用。

- セキュリティグループ
    - リソースごとに設定するファイヤーウォール
    - 許可ルールを作成することができる。
    - 主にインバウンド通信についての許可を設定する

- ネットワークACL
    - サブネット単位で設定するファイヤーウォール
    - 拒否ルールを作成することができる

## 参考文献
